---
interface Props {
  type?: "submit" | "reset" | "button" | null | undefined;
  action?: string;
  icon?: string;
  className?: string;
}

const { type = "button", action, className = "", icon = "abstract" } = Astro.props;
---

<button
  type={type}
  data-action={action}
  class:list={['icon-btn', className]}
>
  <i class={'gg-' + icon}></i>
</button>

<script>
  import { actionHandler } from '../scripts/actions'

  const iconActionEls = document.querySelectorAll('.icon-btn[data-action]')
  if (iconActionEls) {
    Array.from(iconActionEls, actionEl => {
      actionHandler(actionEl)
    });
  }
</script>